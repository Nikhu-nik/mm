<ion-app>
  <ion-menu class="custom" contentId="main-content" type="overlay">
    <ion-header no-border>
      <ion-avatar>
        <img [src]="profilePhoto" alt="">
      </ion-avatar>
      <ion-item routerLink="/dashboard/account" routerDirection="forward" lines="none" color="none">
        <ion-label>
          <b style="color: green;margin-left: 77px;font-size: 12px">{{name | titlecase }}</b><br>
        </ion-label>
      </ion-item>
    </ion-header>

    <ion-content padding>

      <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="Pull to refresh" refreshingSpinner="circles"
          refreshingText="Refreshing...">

        </ion-refresher-content>
      </ion-refresher>
      <!-- USER MENU ITEMS -->


      <div *ngIf="user">




        <div *ngFor="let p of UserMenuItems">
          <ion-menu-toggle *ngIf="p.url">
            <ion-list>

              <ion-item [routerLink]="p.url" routerDirection="forward" routerLinkActive="active">
                <ion-icon [name]="p.icon" slot="start"></ion-icon>
                <ion-label>
                  {{p.title}}
                </ion-label>
              </ion-item>
            </ion-list>
          </ion-menu-toggle>



          <ion-item button *ngIf="p.children?.length > 0" (click)="p.open =!p.open" [class.active.parent]="p.open"
            detail="false">
            <ion-icon slot="end" name="chevron-forward-outline" *ngIf="!p.open"></ion-icon>
            <ion-icon slot="end" name="chevron-down-outline" *ngIf="p.open"></ion-icon>
            <ion-label>{{p.title}}</ion-label>
            <ion-icon slot="start" [name]="p.icon"></ion-icon>
          </ion-item>

          <ion-list lines="none" *ngIf="p.open">
            <ion-menu-toggle>
              <ion-item style="--padding-start: 66px;" *ngFor="let sub of p.children" routerDirection="root"
                [routerLink]="sub.url" routerLinkActive="active">

                <ion-label style="font-size:11px;" class="sub-item">
                  {{sub.title}}
                </ion-label>
              </ion-item>
            </ion-menu-toggle>
          </ion-list>
        </div>
      </div>


      <!-- ADMIN MENU ITEMS -->
      <div *ngIf="admin">
        <div *ngFor="let admin of AdminMenuItems">


          <ion-menu-toggle *ngIf="admin.url">
            <ion-list>

              <ion-item [routerLink]="admin.url" routerDirection="forward" routerLinkActive="active">
                <ion-icon [name]="admin.icon" slot="start"></ion-icon>
                <ion-label>
                  {{admin.title}}
                </ion-label>
              </ion-item>
            </ion-list>
          </ion-menu-toggle>

        </div>

     </div>
















    </ion-content>
    <ion-footer class="ion-no-border">
      <ion-toolbar (click)="logout()">
        <ion-row>
          <ion-col style="text-align: center;">
            <ion-label style="color:white;font-size:15px;" class="items">LogOut</ion-label>
          </ion-col>
        </ion-row>
      </ion-toolbar>
    </ion-footer>

  </ion-menu>
  <ion-router-outlet id="main-content" main></ion-router-outlet>

</ion-app>